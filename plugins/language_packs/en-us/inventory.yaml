# Inventario Fonético - English (American)

language: en
dialect: en-us

inventory:
  consonants:
    - p
    - b
    - t
    - d
    - k
    - g
    - m
    - n
    - ŋ
    - f
    - v
    - θ
    - ð
    - s
    - z
    - ʃ
    - ʒ
    - h
    - ʔ
    - tʃ
    - dʒ
    - l
    - ɫ
    - ɹ
    - ɾ
    - w
    - j

  vowels:
    - i
    - ɪ
    - e
    - ɛ
    - æ
    - ɑ
    - ɔ
    - o
    - ʊ
    - u
    - ʌ
    - ə
    - ɜ
    - ɝ
    - ɚ

  diphthongs:
    - aɪ
    - aʊ
    - ɔɪ
    - eɪ
    - oʊ

diacritics:
  - ˈ
  - ˌ
  - ː
  - ̃

suprasegmentals:
  - .
  - "|"
  - "‖"

# Aliases: mapping of ASR output variations → canonical form
# This helps normalize Allosaurus output to our inventory
aliases:
  # R variants
  r: ɹ       # General 'r' → American approximant
  ɻ: ɹ       # Retroflex approximant → alveolar approximant
  
  # Affricates (may come with tie bar or separated)
  "t͡ʃ": tʃ   # With tie bar → without
  "d͡ʒ": dʒ
  "t͡s": ts
  "d͡z": dz
  
  # Vowel variants
  "ɜ˞": ɝ     # Rhotic diacritic → r-colored vowel
  "ə˞": ɚ     # Rhotic schwa

  # Stop variants
  # Common Allosaurus outputs that need mapping
  ɑː: ɑ      # Remove length markers
  iː: i
  uː: u
  eː: e
  oː: o
  ɜː: ɜ
  əː: ə

# Allophones: phones that can substitute for each other in casual speech
# Format: base_phone: [allowed_variants]
allophones:
  t: [ɾ, ʔ]   # Flapping and glottal (American English)
  d: [ɾ]      # Flapping between vowels
  l: [ɫ]      # Dark L

# Allophone collapse for phonemic mode (evaluation_level=phonemic)
# Map of allophone → base phoneme for normalization
allophone_collapse:
  # Flapping
  ɾ: t        # Flap → /t/ (default, most common)
  # Glottal
  ʔ: t        # Glottal stop → /t/
  # Reduced vowels
  ɨ: ə        # Close central → schwa
  # Dark L
  ɫ: l
